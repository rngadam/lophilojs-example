<!DOCTYPE html>
<html lang="en">
  
  <head>
    <SocketStream/>
    <meta charset="utf-8" />
    <title>Welcome to Lophilo</title>
  </head>
  
  <body>
  <div class="container">
    <div class="navbar">
      <div class="navbar-inner">
        <ul class="nav nav-tabs">
          <a class="brand" href="http://lophilo.com" target="new">Lophilo</a>
          <li>
            <a href="#about" data-placement="bottom" data-toggle="tab" rel="tooltip"
            title="Some introductory text">About</a>
          </li>
          <li class="active">
            <a href="#shielda" data-placement="bottom" data-toggle="tab" rel="tooltip"
            title="Lophilo Inputs/Outputs">Shield A</a>
          </li>
          <li>
            <a href="#shieldb" data-placement="bottom" data-toggle="tab" rel="tooltip"
            title="Lophilo Inputs/Outputs">Shield B</a>
          </li>        
          <li>
            <a href="#onboardleds" data-placement="bottom" data-toggle="tab" rel="tooltip"
            title="">On-board RGB LEDS</a>
          </li>            
        </ul>
        <!-- class="nav nav-tabs" -->
      </div>
      <!-- class="navbar-inner" -->
      
      <div id="appTabContent" class="tab-content">
        <div class="tab-pane fade in" id="about">
          <div class="well">
            <p>Your new realtime, hardware-control app on the Lophilo platform!</p>
            <p>This is a client/server/hardware example built on top of the included
              frameworks and libraries:
              <ul>
                <li>Knockout.JS (data binding)</li>
                <li>Bootstrap (UI - User Interface)</li>
                <li>SocketStream (RPC - Remote Procedure Call)</li>
                <li>Redis (data storage)</li>                
              </ul>
            </p>
            <p>See README.md for more information</p>
          </div>
        </div>
   <!-- class="tab-pane" -->
        <div class="tab-pane fade in active" id="shielda">
          <button type="button" 
            data-bind="css: {'btn-success': powerstatus, 'btn-inverse': !powerstatus()}, click: togglepower" 
            class="btn">
            <span data-bind="text: powerstatus() ? 'SHIELDS ON!': 'SHIELDS OFF'">
            </span>
          </button>    
          <button type="button" 
            data-bind="click: reload" 
            class="btn">
            <span>
              Reload
            </span>
          </button>            
          <h4>Shield A</h4>
          <button type="button" 
            data-bind="css: {'btn-success': shields.outputEnable(), 'btn-inverse': !shields.outputEnable()}, click: shields.toggleOutputEnable" 
            class="btn">
            <span data-bind="text: shields.outputEnable() ? 'OUTPUT ON!': 'OUTPUT OFF'">
            </span>
          </button>             
          <h5>Lower (VAL)</h5>
          <!--- DEBUG
          <div data-bind="with: shields.al">
            <span data-bind="text: ko.toJSON($data)"></span>
          </div>     
          -->
          <div data-bind="with: shields.al">
            <button type="button" class="btn" data-bind="click: $root.allones">              
              All Ones
            </button>          
            <button type="button" class="btn" data-bind="click: $root.allzeros">              
              All Zeros
            </button>                
          </div>
          
          <table class="table">
            <tr data-bind="foreach: shields.al">
            <td>
              <b data-bind="text: label"></b>
            <tr data-bind="foreach: shields.al">
            <td>
            <button type="button" class="btn" data-bind="click: $parent.toggle">              
              <span data-bind="text: last"></span>
            </button>
            <tr data-bind="foreach: shields.al">
            <td>
            <button type="button" class="btn" data-bind="click: toggleinout">              
              <span data-bind="text: inout() ? 'OUT' : 'INP'"></span>
            </button>
          </table>
          
          <h5>Upper (AH)</h5>
          <div data-bind="with: shields.ah">
            <button type="button" class="btn" data-bind="click: $parent.allones">              
              All Ones
            </button>          
            <button type="button" class="btn" data-bind="click: $parent.allzeros">              
              All Zeros
            </button>                
          </div>          
          <table class="table">
            <tr data-bind="foreach: shields.ah">
            <td>
              <b data-bind="text: label"></b>
            <tr data-bind="foreach: shields.ah">
            <td>
            <button type="button" class="btn" data-bind="click: $parent.toggle">              
              <span data-bind="text: last"></span>
            </button>
            <tr data-bind="foreach: shields.ah">
            <td>
            <button type="button" class="btn" data-bind="click: toggleinout">              
              <span data-bind="text: inout() ? 'OUT' : 'INP'"></span>
            </button>
          </table>
        </div>
        <!-- class="tab-pane" -->
        <div class="tab-pane fade in" id="shieldb">
          <button type="button" 
            data-bind="css: {'btn-success': powerstatus, 'btn-inverse': !powerstatus()}, click: powerstatus" 
            class="btn">
            <span data-bind="text: powerstatus() ? 'SHIELDS ON': 'SHIELDS OFF'">
            </span>
          </button>        
          <h4>Shield B</h4>
          <h5>Lower (BL)</h5>
          <div data-bind="with: shields.bl">              
          </div>
          <div class="btn-group" data-bind="foreach: shields.bl">
            <button type="button" class="btn">              
              <b data-bind="text: label"></b>:<span data-bind="text: fmen.last"></span>
            </button>
          </div>
          <h5>Upper (BH)</h5>
          <div data-bind="with: shields.bh">             
          </div>          
          <div class="btn-group" data-bind="foreach: shields.bh">
            <button type="button" class="btn" data-bind="click: $parent.toggle">
              <b data-bind="text: label"></b>:<span data-bind="text: fmen.last"></span>
            </button>
          </div>
        </div>
        <!-- class="tab-pane" -->     
        <div class="tab-pane fade in active" id="onboardleds">
          <div class="btn-group" data-bind="foreach: leds">
            <button type="button" class="btn">              
              <b data-bind="text: label"></b>:<span data-bind="text: last"></span>
            </button>
          </div>
        </div>
        <!-- class="tab-pane" -->            
      </div>
      <!-- class="tab-content" -->
    </div>
    <!-- class="navbar" -->
  </div> <!-- container -->
  </body>
</html>